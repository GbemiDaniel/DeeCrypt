@import "tailwindcss";
@import "./tokens.css";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));
* {
  box-sizing: border-box;
}
html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: var(--font-sans);
  background: var(--bg);
  color: var(--text);
  /* Ensure scroll behavior is standard (let the Fixed Layer handle the background) */
  background-attachment: scroll;
}

a {
  color: inherit;
  text-decoration: none;
}
button {
  font: inherit;
}

::selection {
  background: rgba(56, 189, 248, 0.25);
}

.container {
  width: min(1100px, calc(100% - 2rem));
  margin: 0 auto;
}

/* --- DELETED .bg-grid CLASS (Moved to Component) --- */

/* Visual-only layers must never intercept clicks */
.noPointer {
  pointer-events: none !important;
}

/* ... (Keep your @theme configuration exactly as is) ... */
@theme inline {
  --radius-sm: calc(var(--radius) - 0.25rem);
  --radius-md: calc(var(--radius) - 0.125rem);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 0.25rem);
  --radius-2xl: calc(var(--radius) + 0.5rem);
  --radius-3xl: calc(var(--radius) + 0.75rem);
  --radius-4xl: calc(var(--radius) + 1rem);
  /* ... rest of your theme vars ... */
}

/* ... (Keep your :root variables exactly as is) ... */
:root {
  --radius: 0.625rem;
  /* ... rest of your root vars ... */
}

/* ... (Keep your utility classes .text-metal, etc.) ... */
.text-metal {
  background-image: var(--metal-gradient);
  background-size: 100% 110%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  font-weight: 800;
  letter-spacing: -0.02em;
  filter: drop-shadow(0 2px 1px rgba(0, 0, 0, 0.6));
}

.metal-dev {
  filter: drop-shadow(0 0 8px rgba(34, 211, 238, 0.5));
}
.metal-writer {
  filter: drop-shadow(0 0 8px rgba(52, 211, 153, 0.5));
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* === MOBILE PERFORMANCE FIXES === */
@media (max-width: 768px) {
  /* Disable expensive filters globally on mobile */
  * {
    backdrop-filter: none !important;
    /* Remove heavy box-shadows if they cause lag, optional: */
    /* box-shadow: none !important; */
  }

  /* Fallback: Give cards a solid background since blur is gone */
  .card,
  [class*="ModuleCard"],
  [class*="Navbar_header"] {
    /* Use a very dark, slightly transparent color instead of glass */
    background-color: color-mix(in srgb, var(--bg) 95%, transparent) !important;
    border: 1px solid var(--border-soft);
  }

  /* Ensure Navbar is readable without blur */
  header {
    background-color: var(--bg) !important;
    border-bottom: 1px solid var(--border-soft);
  }
}
